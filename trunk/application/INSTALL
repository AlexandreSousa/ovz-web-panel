OpenVZ Web Panel Installation
---

Table of contents:
1. Requirements
2. Installation the build
3. Installation from SVN repository
4. Known problems


1. Requirements
---

The following software is required to be installed:
* OpenVZ kernel
* OpenVZ tools (vzctl, vzlist)
* PHP 5.2.1 with SQLite support
* Apache 2.2.x
* Apache mod_rewrite module


2. Installation the build
---

Place build archive to hardware server with OpenVZ kernel and tools. Move 
build archive content to destination directory, e.g. /opt/owp. 

Go to <install-dir>/application/utils/hw-daemon/ and copy hw-daemon.ini.sample
to hw-daemon.ini. Next step is to generate unique key, which will be used for
authorization between panel and daemon. Key can be generated using the 
following command for example: "head -c 200 /dev/urandom | md5sum". Key should 
be placed to hw-daemon.ini as a value of "key" parameter. Now daemon can be 
started by the command: "sudo php hw-daemon.php start". Daemon should work 
under root user to be able to maniplate with containers.

Web server need to be configured to access web panel. Sample configuration for
Apache:
<VirtualHost *>
    ServerName <you-host-com>
    DocumentRoot <install-dir>/application/htdocs

    <Directory <install-dir>/application/htdocs>
        RewriteEngine on
        RewriteRule ^$                        index.php  [L]
        RewriteCond %{REQUEST_FILENAME}       !-f
        RewriteCond %{REQUEST_FILENAME}       !-d
        RewriteRule (.*)                      index.php/$1  [QSA,L]
    </Directory>
</VirtualHost>

Need to check that Apache user is able to write into SQLite database file
<install-dir>/application/resources/database. If not, need to update 
permissions.


3. Installation from SVN repository
---

Source code can be checked out anonymously via:
svn checkout http://ovz-web-panel.googlecode.com/svn/trunk/ owp

File http://code.google.com/p/ovz-web-panel/source/browse/trunk/build/build.sh
contains information how to prepare working copy.
 

4. Known problems
---

Daemon expects that vz partition located at /vz. On Ubuntu it's need to create
symlink: "ln -s /var/lib/vz /vz".
