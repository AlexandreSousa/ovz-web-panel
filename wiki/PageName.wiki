#summary How to install panel to Slackware server.

How-To was provided by [mailto:kesha@mithril.org.ua Mykyta Solomko].

= Instructions =

First of all we need to install SQLite:
{{{
installpkg sqlite
}}}

Web panel supports only ruby 1.8.5+ (with ruby 1.9.x subj wouldnâ€™t work), so we need to remove ruby, if we are using Slackware(64)-13.1 and higher:

{{{
slackpkg remove ruby
}}}

Installing ruby 1.8.7 (from Slackware64-13.0):
{{{
wget http://mirrors.mithril.org.ua/linux/slackware/slackware64-13.0/slackware64/d/ruby-1.8.7_p174-x86_64-1.txz
installpkg ruby-1.8.7_p174-x86_64-1.txz
}}}

Alternatively you can use RVM to obtain Ruby 1.8. See https://rvm.beginrescueend.com/ for details.

Ruby gems:

{{{
wget http://rubyforge.org/frs/download.php/75229/rubygems-1.8.7.tgz
tar -xzvf rubygems-1.8.7.tgz
cd rubygems-1.8.7
ruby setup.rb
}}}

Install necessary gems:
{{{
gem install sqlite3-ruby
}}}

Download and unpack panel into /opt directory:
{{{
wget http://ovz-web-panel.googlecode.com/files/ovz-web-panel-2.0.tgz
tar -xzvf ovz-web-panel-2.0.tgz -C /opt
}}}

Startup script manipulations:
{{{
cp /opt/ovz-web-panel/script/owp /etc/rc.d/rc.owp
chmod +x /etc/rc.d/rc.owp
}}}

Manipulations with configs:
{{{
cp /opt/ovz-web-panel/config/owp.conf /opt/ovz-web-panel/config/owp.conf
cp /opt/ovz-web-panel/utils/hw-daemon/hw-daemon.ini.sample /opt/ovz-web-panel/utils/hw-daemon/hw-daemon.ini
sed -i "s/key = secret/key = `head -c 200 \/dev\/urandom | md5sum | cut -f1 -d" "`/g" /opt/ovz-web-panel/utils/hw-daemon/hw-daemon.ini
}}}

rc.local:
{{{
# OpenVZ web panel
if [ -x /etc/rc.d/rc.owp ]; then
    /bin/bash /etc/rc.d/rc.owp start
fi
}}}

rc.local_shutdown:
{{{
# OpenVZ web panel
if [ -x /etc/rc.d/rc.owp ]; then
    /bin/bash /etc/rc.d/rc.owp stop
fi
}}}

Fire up!
{{{
/etc/rc.d/rc.owp start
}}}

Log into panel at `http://<your_host>:3000`

Deafult user/password: admin/admin.